{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Exnehilo\\\\Desktop\\\\1\\\\DistanceEducationProject\\\\client\\\\src\\\\components\\\\TextTask.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { YOUTUBE_API_KEY } from '../utils/consts';\nimport { isYouTubeLink } from '../utils/helpers';\nimport '../components/styles/Tasks.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TextTask = ({\n  task\n}) => {\n  _s();\n  const [videoInfo, setVideoInfo] = useState(null);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchVideoInfo = async () => {\n      try {\n        if (isYouTubeLink(task.documentLink)) {\n          const response = await fetch(`https://www.googleapis.com/youtube/v3/videos?id=${task.documentLink}&key=${YOUTUBE_API_KEY}&part=snippet`);\n          if (!response.ok) {\n            throw new Error('Failed to fetch video info');\n          }\n          const data = await response.json();\n          setVideoInfo(data.items[0]);\n        }\n      } catch (error) {\n        setError(error.message);\n      }\n    };\n    fetchVideoInfo();\n  }, [task.documentLink]);\n  const renderDocument = () => {\n    if (isYouTubeLink(task.documentLink)) {\n      if (error) {\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 12\n        }, this);\n      }\n      if (!videoInfo) {\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 12\n        }, this);\n      }\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: videoInfo.snippet.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"iframe\", {\n          title: \"YouTube Video\",\n          width: \"560\",\n          height: \"315\",\n          src: `https://www.youtube.com/embed/${task.documentLink}`,\n          allowFullScreen: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 5\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442: \", task.documentLink]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: task.documentLink,\n          download: true,\n          children: \"\\u0421\\u043A\\u0430\\u0447\\u0430\\u0442\\u044C \\u0434\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 5\n      }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-task\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"task-title\",\n      children: task.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"task-description\",\n      children: task.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0432\\u0430\\u0448 \\u043E\\u0442\\u0432\\u0435\\u0442\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 4\n    }, this), task.documentLink && renderDocument(), /*#__PURE__*/_jsxDEV(\"button\", {\n      children: \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 3\n  }, this);\n};\n_s(TextTask, \"rcLYkX2Sc//gEsfb3CDe8B0ktU8=\");\n_c = TextTask;\nexport default TextTask;\nvar _c;\n$RefreshReg$(_c, \"TextTask\");","map":{"version":3,"names":["React","useState","useEffect","YOUTUBE_API_KEY","isYouTubeLink","jsxDEV","_jsxDEV","TextTask","task","_s","videoInfo","setVideoInfo","error","setError","fetchVideoInfo","documentLink","response","fetch","ok","Error","data","json","items","message","renderDocument","children","fileName","_jsxFileName","lineNumber","columnNumber","snippet","title","width","height","src","allowFullScreen","href","download","className","description","type","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/Exnehilo/Desktop/1/DistanceEducationProject/client/src/components/TextTask.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { YOUTUBE_API_KEY } from '../utils/consts';\r\nimport { isYouTubeLink } from '../utils/helpers';\r\nimport '../components/styles/Tasks.css';\r\n\r\nconst TextTask = ({ task }) => {\r\n\tconst [videoInfo, setVideoInfo] = useState(null);\r\n\tconst [error, setError] = useState(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchVideoInfo = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tif (isYouTubeLink(task.documentLink)) {\r\n\t\t\t\t\tconst response = await fetch(\r\n\t\t\t\t\t\t`https://www.googleapis.com/youtube/v3/videos?id=${task.documentLink}&key=${YOUTUBE_API_KEY}&part=snippet`\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif (!response.ok) {\r\n\t\t\t\t\t\tthrow new Error('Failed to fetch video info');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst data = await response.json();\r\n\t\t\t\t\tsetVideoInfo(data.items[0]);\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tsetError(error.message);\r\n\t\t\t}\r\n\t\t};\r\n\t\tfetchVideoInfo();\r\n\t}, [task.documentLink]);\r\n\r\n\tconst renderDocument = () => {\r\n\t\tif (isYouTubeLink(task.documentLink)) {\r\n\t\t\tif (error) {\r\n\t\t\t\treturn <p>{error}</p>;\r\n\t\t\t}\r\n\t\t\tif (!videoInfo) {\r\n\t\t\t\treturn <p>Loading...</p>;\r\n\t\t\t}\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h3>{videoInfo.snippet.title}</h3>\r\n\t\t\t\t\t<iframe\r\n\t\t\t\t\t\ttitle=\"YouTube Video\"\r\n\t\t\t\t\t\twidth=\"560\"\r\n\t\t\t\t\t\theight=\"315\"\r\n\t\t\t\t\t\tsrc={`https://www.youtube.com/embed/${task.documentLink}`}\r\n\t\t\t\t\t\tallowFullScreen\r\n\t\t\t\t\t></iframe>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>Документ: {task.documentLink}</p>\r\n\t\t\t\t\t<a href={task.documentLink} download>\r\n\t\t\t\t\t\tСкачать документ\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"text-task\">\r\n\t\t\t<h3 className=\"task-title\">{task.title}</h3>\r\n\t\t\t<p className=\"task-description\">{task.description}</p>\r\n\t\t\t<input type=\"text\" placeholder=\"Введите ваш ответ\" />\r\n\t\t\t{task.documentLink && renderDocument()}\r\n\t\t\t<button>Отправить</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default TextTask;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}