{"ast":null,"code":"import { $authHost, $host } from \"./index\";\nimport jwt_decode from \"jwt-decode\";\nexport const registration = async userData => {\n  const token = localStorage.getItem('token');\n  await $host.post('/api/user/registration', {\n    firstname: userData.firstname,\n    lastname: userData.lastname,\n    phoneNumber: userData.phoneNumber,\n    email: userData.email,\n    password: userData.password,\n    userRoleId: userData.userRoleId,\n    groupId: userData.groupId\n  }, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n};\nexport const login = async (email, password) => {\n  const {\n    data\n  } = await $host.post('api/user/login', {\n    email,\n    password\n  });\n  localStorage.setItem('token', data.token);\n  return jwt_decode(data.token);\n};\nexport const check = async () => {\n  const {\n    data\n  } = await $authHost.get('api/user/auth');\n  localStorage.setItem('token', data.token);\n  return jwt_decode(data.token);\n};\nexport const getAllRoles = async () => {\n  try {\n    const token = localStorage.getItem('token');\n    const response = await $host.get('/api/user/getroleslist', {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n};\nexport const getAllUsersByRole = async (role, role2) => {\n  try {\n    const token = localStorage.getItem('token');\n    const response = await $host.get(`/api/user/getusersbyrole?role=${role}&role=${role2}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n};\nexport default getAllRoles;","map":{"version":3,"names":["$authHost","$host","jwt_decode","registration","userData","token","localStorage","getItem","post","firstname","lastname","phoneNumber","email","password","userRoleId","groupId","headers","Authorization","login","data","setItem","check","get","getAllRoles","response","error","getAllUsersByRole","role","role2"],"sources":["C:/Users/Exnehilo/Desktop/DistanceEducationProject/client/src/http/userAPI.js"],"sourcesContent":["import { $authHost, $host } from \"./index\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nexport const registration = async (userData) => {\r\n\tconst token = localStorage.getItem('token');\r\n\tawait $host.post('/api/user/registration', {\r\n\t\tfirstname: userData.firstname,\r\n\t\tlastname: userData.lastname,\r\n\t\tphoneNumber: userData.phoneNumber,\r\n\t\temail: userData.email,\r\n\t\tpassword: userData.password,\r\n\t\tuserRoleId: userData.userRoleId,\r\n\t\tgroupId: userData.groupId\r\n\t}, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t}\r\n\t});\r\n};\r\n\r\nexport const login = async (email, password) => {\r\n\tconst { data } = await $host.post('api/user/login', { email, password })\r\n\tlocalStorage.setItem('token', data.token)\r\n\treturn jwt_decode(data.token)\r\n}\r\n\r\nexport const check = async () => {\r\n\tconst { data } = await $authHost.get('api/user/auth')\r\n\tlocalStorage.setItem('token', data.token)\r\n\treturn jwt_decode(data.token)\r\n}\r\n\r\nexport const getAllRoles = async () => {\r\n\ttry {\r\n\t\tconst token = localStorage.getItem('token');\r\n\t\tconst response = await $host.get('/api/user/getroleslist', {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn response.data;\r\n\t} catch (error) {\r\n\t\tthrow error;\r\n\t}\r\n};\r\n\r\nexport const getAllUsersByRole = async (role, role2) => {\r\n\ttry {\r\n\t\tconst token = localStorage.getItem('token');\r\n\t\tconst response = await $host.get(`/api/user/getusersbyrole?role=${role}&role=${role2}`, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn response.data;\r\n\t} catch (error) {\r\n\t\tthrow error;\r\n\t}\r\n}\r\n\r\nexport default getAllRoles;\r\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,KAAK,QAAQ,SAAS;AAC1C,OAAOC,UAAU,MAAM,YAAY;AAEnC,OAAO,MAAMC,YAAY,GAAG,MAAOC,QAAQ,IAAK;EAC/C,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMN,KAAK,CAACO,IAAI,CAAC,wBAAwB,EAAE;IAC1CC,SAAS,EAAEL,QAAQ,CAACK,SAAS;IAC7BC,QAAQ,EAAEN,QAAQ,CAACM,QAAQ;IAC3BC,WAAW,EAAEP,QAAQ,CAACO,WAAW;IACjCC,KAAK,EAAER,QAAQ,CAACQ,KAAK;IACrBC,QAAQ,EAAET,QAAQ,CAACS,QAAQ;IAC3BC,UAAU,EAAEV,QAAQ,CAACU,UAAU;IAC/BC,OAAO,EAAEX,QAAQ,CAACW;EACnB,CAAC,EAAE;IACFC,OAAO,EAAE;MACRC,aAAa,EAAG,UAASZ,KAAM;IAChC;EACD,CAAC,CAAC;AACH,CAAC;AAED,OAAO,MAAMa,KAAK,GAAG,MAAAA,CAAON,KAAK,EAAEC,QAAQ,KAAK;EAC/C,MAAM;IAAEM;EAAK,CAAC,GAAG,MAAMlB,KAAK,CAACO,IAAI,CAAC,gBAAgB,EAAE;IAAEI,KAAK;IAAEC;EAAS,CAAC,CAAC;EACxEP,YAAY,CAACc,OAAO,CAAC,OAAO,EAAED,IAAI,CAACd,KAAK,CAAC;EACzC,OAAOH,UAAU,CAACiB,IAAI,CAACd,KAAK,CAAC;AAC9B,CAAC;AAED,OAAO,MAAMgB,KAAK,GAAG,MAAAA,CAAA,KAAY;EAChC,MAAM;IAAEF;EAAK,CAAC,GAAG,MAAMnB,SAAS,CAACsB,GAAG,CAAC,eAAe,CAAC;EACrDhB,YAAY,CAACc,OAAO,CAAC,OAAO,EAAED,IAAI,CAACd,KAAK,CAAC;EACzC,OAAOH,UAAU,CAACiB,IAAI,CAACd,KAAK,CAAC;AAC9B,CAAC;AAED,OAAO,MAAMkB,WAAW,GAAG,MAAAA,CAAA,KAAY;EACtC,IAAI;IACH,MAAMlB,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,MAAMiB,QAAQ,GAAG,MAAMvB,KAAK,CAACqB,GAAG,CAAC,wBAAwB,EAAE;MAC1DN,OAAO,EAAE;QACRC,aAAa,EAAG,UAASZ,KAAM;MAChC;IACD,CAAC,CAAC;IACF,OAAOmB,QAAQ,CAACL,IAAI;EACrB,CAAC,CAAC,OAAOM,KAAK,EAAE;IACf,MAAMA,KAAK;EACZ;AACD,CAAC;AAED,OAAO,MAAMC,iBAAiB,GAAG,MAAAA,CAAOC,IAAI,EAAEC,KAAK,KAAK;EACvD,IAAI;IACH,MAAMvB,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,MAAMiB,QAAQ,GAAG,MAAMvB,KAAK,CAACqB,GAAG,CAAE,iCAAgCK,IAAK,SAAQC,KAAM,EAAC,EAAE;MACvFZ,OAAO,EAAE;QACRC,aAAa,EAAG,UAASZ,KAAM;MAChC;IACD,CAAC,CAAC;IACF,OAAOmB,QAAQ,CAACL,IAAI;EACrB,CAAC,CAAC,OAAOM,KAAK,EAAE;IACf,MAAMA,KAAK;EACZ;AACD,CAAC;AAED,eAAeF,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}