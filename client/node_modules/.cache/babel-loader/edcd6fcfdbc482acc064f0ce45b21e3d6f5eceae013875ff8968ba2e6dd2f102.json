{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Exnehilo\\\\Desktop\\\\DistanceEducationProject\\\\client\\\\src\\\\pages\\\\CourseLessons.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport { Context } from '../index';\nimport './styles/courses.css';\nimport { createLesson, getAllLessonsByCourseId } from '../http/lessonAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CourseLessons = () => {\n  _s();\n  const {\n    user\n  } = useContext(Context);\n  const {\n    courseId\n  } = useParams();\n  const [course, setCourse] = useState(null);\n  const [newLesson, setNewLesson] = useState({\n    title: '',\n    description: '',\n    tasksCount: 0\n  });\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const lessonsData = await getAllLessonsByCourseId(courseId);\n        console.log('lessonsData:', lessonsData);\n        setCourse(lessonsData.data);\n      } catch (error) {\n        console.error('Failed to fetch lessons:', error);\n      }\n    };\n    fetchData();\n  }, [courseId]);\n  const handleLessonSubmit = async e => {\n    e.preventDefault();\n    try {\n      await createLesson(newLesson.title, courseId);\n      alert('New Lesson created successfully!');\n    } catch (error) {\n      alert('Failed to create new lesson:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"courses-container\",\n    children: [course && course.map(lesson => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"course-card\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"course-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"course-title\",\n          children: lesson.lesson_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"course-tasks\",\n          children: [\"Number of Tasks: \", lesson.tasksCount]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: `/courses/${courseId}/lessons/${lesson.id}/tasks`,\n          className: \"course-link\",\n          children: \"View Tasks\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 6\n      }, this)\n    }, lesson.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }, this)), (user._user.title === 'admin' || user._user.title === 'teacher') && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"course-card\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleLessonSubmit,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"course-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"course-title\",\n            children: \"Add New Lesson\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"title\",\n              children: \"Title:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"title\",\n              className: \"form-control\",\n              value: newLesson.title,\n              onChange: e => setNewLesson({\n                ...newLesson,\n                title: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary\",\n            children: \"Add Lesson\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 3\n  }, this);\n};\n_s(CourseLessons, \"d2YvHAn9AezkugZi/MCkzN3i6iE=\", false, function () {\n  return [useParams];\n});\n_c = CourseLessons;\nexport default CourseLessons;\nvar _c;\n$RefreshReg$(_c, \"CourseLessons\");","map":{"version":3,"names":["React","useState","useContext","useEffect","useParams","Link","Context","createLesson","getAllLessonsByCourseId","jsxDEV","_jsxDEV","CourseLessons","_s","user","courseId","course","setCourse","newLesson","setNewLesson","title","description","tasksCount","fetchData","lessonsData","console","log","data","error","handleLessonSubmit","e","preventDefault","alert","className","children","map","lesson","lesson_name","fileName","_jsxFileName","lineNumber","columnNumber","to","id","_user","onSubmit","htmlFor","type","value","onChange","target","_c","$RefreshReg$"],"sources":["C:/Users/Exnehilo/Desktop/DistanceEducationProject/client/src/pages/CourseLessons.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { Link } from 'react-router-dom';\r\nimport { Context } from '../index';\r\nimport './styles/courses.css';\r\nimport { createLesson, getAllLessonsByCourseId } from '../http/lessonAPI';\r\n\r\nconst CourseLessons = () => {\r\n\tconst { user } = useContext(Context);\r\n\tconst { courseId } = useParams();\r\n\tconst [course, setCourse] = useState(null);\r\n\tconst [newLesson, setNewLesson] = useState({\r\n\t\ttitle: '',\r\n\t\tdescription: '',\r\n\t\ttasksCount: 0\r\n\t});\r\n\tuseEffect(() => {\r\n\t\tconst fetchData = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst lessonsData = await getAllLessonsByCourseId(courseId);\r\n\t\t\t\tconsole.log('lessonsData:', lessonsData);\r\n\t\t\t\tsetCourse(lessonsData.data);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('Failed to fetch lessons:', error);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\tfetchData();\r\n\t}, [courseId]);\r\n\r\n\tconst handleLessonSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\t\ttry {\r\n\t\t\tawait createLesson(newLesson.title, courseId);\r\n\t\t\talert('New Lesson created successfully!');\r\n\t\t} catch (error) {\r\n\t\t\talert('Failed to create new lesson:', error);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"courses-container\">\r\n\t\t\t{course && course.map(lesson => (\r\n\t\t\t\t<div className=\"course-card\" key={lesson.id}>\r\n\t\t\t\t\t<div className=\"course-info\">\r\n\t\t\t\t\t\t<h3 className=\"course-title\">{lesson.lesson_name}</h3>\r\n\t\t\t\t\t\t<p className=\"course-tasks\">Number of Tasks: {lesson.tasksCount}</p>\r\n\t\t\t\t\t\t<Link to={`/courses/${courseId}/lessons/${lesson.id}/tasks`} className=\"course-link\">View Tasks</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t))}\r\n\t\t\t{(user._user.title === 'admin' || user._user.title === 'teacher') && (\r\n\t\t\t\t<div className=\"course-card\">\r\n\t\t\t\t\t<form onSubmit={handleLessonSubmit}>\r\n\t\t\t\t\t\t<div className=\"course-info\">\r\n\t\t\t\t\t\t\t<h3 className=\"course-title\">Add New Lesson</h3>\r\n\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"title\">Title:</label>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" id=\"title\" className=\"form-control\" value={newLesson.title} onChange={(e) => setNewLesson({ ...newLesson, title: e.target.value })} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn btn-primary\">Add Lesson</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default CourseLessons;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}